<!DOCTYPE html>
<html>
<head>
    <title>Login Test</title>
</head>
<body>
    <h1>Login Test</h1>
    <button onclick="testLogin()">Test Login</button>
    <pre id="result"></pre>
    
    <script src="config.js"></script>
    <script>
        const API_URL = CONFIG?.API_URL || 'http://localhost:5000';
        
        async function testLogin() {
            const result = document.getElementById('result');
            result.textContent = 'Testing...\n';
            
            try {
                result.textContent += `API URL: ${API_URL}\n`;
                
                const url = `${API_URL}/users/login`;
                result.textContent += `Fetching: ${url}\n`;
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        phone: '+250789751558',
                        password: 'test123'
                    })
                });
                
                result.textContent += `Status: ${response.status}\n`;
                
                const text = await response.text();
                result.textContent += `Response: ${text}\n`;
                
                if (response.ok) {
                    result.textContent += '\n✅ LOGIN SUCCESS!';
                } else {
                    result.textContent += '\n❌ LOGIN FAILED!';
                }
            } catch (error) {
                result.textContent += `\n❌ ERROR: ${error.message}`;
            }
        }
    </script>
</body>
</html>
